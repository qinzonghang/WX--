<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export2.dtd">
<en-export export-date="20180113T140427Z" application="Evernote/Windows" version="6.x">
<note><title>11、视图层——WXML条件渲染</title><content><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">

<en-note><div><span style="font-size: 32px;"><b>11、视图层——WXML条件渲染</b></span></div><div><hr/></div><div><br/></div><div><span style="font-size: 24px;"><b>（1）wx:if（单个标签）</b></span></div><div><hr/></div><ul><li>在框架中，使用 wx:if=&quot;{{condition}}&quot; 来判断是否需要渲染该代码块</li></ul><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;view <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">wx:if=&quot;{{condition}}&quot;</span>&gt; True &lt;/view&gt;</div></div><ul><li>也可以用 wx:elif 和 wx:else 来添加一个 else 块</li></ul><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;view <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">wx:if=&quot;{{length &gt; 5}}&quot;</span>&gt; 1 &lt;/view&gt;</div><div>&lt;view <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">wx:elif=&quot;{{length &gt; 2}}&quot;</span>&gt; 2 &lt;/view&gt;</div><div>&lt;view <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">wx:else</span>&gt; 3 &lt;/view&gt;</div></div><div><br/></div><div><span style="font-size: 24px;"><b>（2）block wx:if（多个标签）</b></span></div><div><hr/></div><ul><li>因为 wx:if 是一个控制属性，需要将它添加到一个标签上。如果要一次性判断多个组件标签，可以使用一个 &lt;block/&gt; 标签将多个组件包装起来，并在上边使用 wx:if 控制属性</li><li><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">&lt;block/&gt; 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性</span></li></ul><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;block wx:if=&quot;{{true}}&quot;&gt;<br/>
&nbsp; &lt;view&gt; view1 &lt;/view&gt;</div><div>&nbsp; &lt;view&gt; view2 &lt;/view&gt;</div><div>&lt;/block&gt;</div></div><div><br/></div><div><span style="font-size: 24px;"><b>（3）wx:if和hidden区别</b></span></div><div><hr/></div><ul><li>因为 wx:if 之中的模板也可能包含数据绑定，所有当 wx:if 的条件值切换时，框架有一个<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">局部渲染</span>的过程，因为它会确保条件块在切换时销毁或重新渲染</li><li>同时 wx:if 也是惰性的，如果在初始渲染条件为 false，框架什么也不做，在<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">条件第一次变成真的时候才开始局部渲染</span>。</li><li>相比之下，hidden 就简单的多，组件始终会被渲染，只是简单的控制显示与隐藏。</li><li>一般来说，<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">wx:if 有更高的切换消耗而 hidden 有更高的初始渲染消耗</span></li><li>因此，如果需要<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">频繁切换的情景下，用 hidden 更好</span>，如果在运行时条件不大可能改变则 wx:if 较好。</li></ul></en-note>]]></content><created>20180102T013758Z</created><updated>20180102T014549Z</updated><note-attributes><author>372251027@qq.com</author><source>desktop.win</source><source-url>https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/conditional.html</source-url><source-application>evernote.win32</source-application></note-attributes></note></en-export>
