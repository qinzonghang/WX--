<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export2.dtd">
<en-export export-date="20180113T140449Z" application="Evernote/Windows" version="6.x">
<note><title>14、视图层——WXML引用</title><content><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">

<en-note><div><span style="font-size: 32px;"><b>14、视图层——WXML引用</b></span></div><ul><li>WXML 提供两种文件引用方式import和include。</li></ul><div><hr/></div><div><span style="font-size: 24px;"><b>（1）import</b></span></div><div><hr/></div><ul><li>import可以在该文件中<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">使用目标文件定义的template</span></li><li>在 item.wxml 中定义了一个叫item的template：</li></ul><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;!-- item.wxml --&gt;</div><div>&lt;template name=&quot;item&quot;&gt;</div><div>&nbsp; &lt;text&gt;{{text}}&lt;/text&gt;</div><div>&lt;/template&gt;</div></div><ul><li>在 index.wxml 中引用了 item.wxml，就可以使用item模板：</li></ul><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;import src=&quot;item.wxml&quot;/&gt;</div><div>&lt;template is=&quot;item&quot; data=&quot;{{text: &apos;forbar&apos;}}&quot;/&gt;</div></div><ul><li>import的作用域
<ul><li>import 有作用域的概念，即只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template。</li><li>如：C import B，B import A，在C中可以使用B定义的template，在B中可以使用A定义的template，但是C不能使用A定义的template。</li></ul></li></ul><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;!-- A.wxml --&gt;</div><div>&lt;template name=&quot;A&quot;&gt;</div><div>&nbsp; &lt;text&gt; A template &lt;/text&gt;</div><div>&lt;/template&gt;</div><div><br/></div><div>&lt;!-- B.wxml --&gt;</div><div>&lt;import src=&quot;a.wxml&quot;/&gt;</div><div>&lt;template name=&quot;B&quot;&gt;</div><div>&nbsp; &lt;text&gt; B template &lt;/text&gt;</div><div>&lt;/template&gt;</div><div><br/></div><div>&lt;!-- C.wxml --&gt;</div><div>&lt;import src=&quot;b.wxml&quot;/&gt;</div><div>&lt;template is=&quot;A&quot;/&gt;&nbsp; <span style="color: rgb(255, 0, 0);"><b><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">&lt;!-- Error! Can not use tempalte when not import A. --&gt;</span></b></span></div><div>&lt;template is=&quot;B&quot;/&gt;</div></div><div><br/></div><div><span style="font-size: 24px;"><b>（2）include</b></span></div><div><hr/></div><ul><li>include可以将目标文件<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">除了&lt;template/&gt;</span>的整个代码引入，相当于是拷贝到include位置，如：</li></ul><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;!-- index.wxml --&gt;</div><div>&lt;include src=&quot;header.wxml&quot;/&gt;</div><div>&lt;view&gt; body &lt;/view&gt;</div><div>&lt;include src=&quot;footer.wxml&quot;/&gt;</div><div><br/></div><div>&lt;!-- header.wxml --&gt;</div><div>&lt;view&gt; header &lt;/view&gt;</div><div><br/></div><div>&lt;!-- footer.wxml --&gt;</div><div>&lt;view&gt; footer &lt;/view&gt;</div></div><div><br/></div></en-note>]]></content><created>20171101T065052Z</created><updated>20180102T031429Z</updated><note-attributes><author>372251027@qq.com</author><source>desktop.win</source><source-url>https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/import.html</source-url><source-application>evernote.win32</source-application></note-attributes></note></en-export>
